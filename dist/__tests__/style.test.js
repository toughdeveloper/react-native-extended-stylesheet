var _style=require('../style');var _style2=_interopRequireDefault(_style);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}describe('style',function(){it('should calc style',function(){var source={$a:1,$b:'$d',fontSize:'$a',borderWidth:'$b',color:'$e'};var varsArr=[{$a:3,$d:3,$e:'abc'}];var res=new _style2.default(source,varsArr).calc();expect(res).toEqual({calculatedVars:{$a:1,$b:3},calculatedProps:{fontSize:1,borderWidth:3,color:'abc'}});});it('should throw error on cyclic refs',function(){var source={$a:'$b',$b:'$a'};expect(function(){return new _style2.default(source).calc();}).toThrowError('Cyclic reference: $b -> $a -> $b');});it('should apply scale inlined',function(){var source={$scale:2,$b:'$d',fontSize:'$a',borderWidth:'$b',prop:1,width:2};var varsArr=[{$a:2,$d:3}];var res=new _style2.default(source,varsArr).calc();expect(res).toEqual({calculatedVars:{$scale:2,$b:3},calculatedProps:{fontSize:4,borderWidth:6,prop:1,width:4}});});it('should apply scale from vars',function(){var source={$b:'$d',$width:1,fontSize:'$a',borderWidth:'$b',prop:'$width',width:'$width'};var varsArr=[{$a:2,$d:3},{$scale:2}];var res=new _style2.default(source,varsArr).calc();expect(res).toEqual({calculatedVars:{$width:1,$b:3},calculatedProps:{fontSize:4,borderWidth:6,prop:1,width:2}});});it('should outline',function(){var source={prop:10};var varsArr=[{$outline:true},{}];Math.random=jest.genMockFn().mockReturnValue(0);var res=new _style2.default(source,varsArr).calc();expect(res).toEqual({calculatedVars:null,calculatedProps:{prop:10,borderWidth:1,borderColor:'black'}});expect(Math.random.mock.calls.length).toBe(1);});it('should support media queries',function(){var source={$b:2,c:1,'@media ios':{$b:3,c:'$b'}};var result=new _style2.default(source).calc();expect(result).toEqual({calculatedVars:{$b:3},calculatedProps:{c:3}});});});